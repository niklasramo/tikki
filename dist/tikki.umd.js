!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("eventti")):"function"==typeof define&&define.amd?define(["exports","eventti"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).tikki={},t.eventti)}(this,(function(t,e){"use strict";t.Ticker=class{lanes;autoTick;_rafId;_emitter;_callbackLists;constructor(){this.lanes=[],this.autoTick=!0,this._rafId=null,this._emitter=new e.Emitter,this._callbackLists=[],this.tick=this.tick.bind(this)}tick(t){this._rafId=null;const{_callbackLists:e,lanes:i}=this;let s,n,r,c,o,l;for(s=0,r=i.length;s<r;s++)l=this._emitter._getListeners(i[s]),l&&e.push(l);for(s=0,r=e.length;s<r;s++)for(o=e[s],n=0,c=o.length;n<c;n++)o[n](t);e.length=0,this.autoTick&&this._emitter.listenerCount()&&this.requestTick()}requestTick(){this.autoTick&&null===this._rafId&&(this._rafId=requestAnimationFrame(this.tick))}cancelTick(){null!==this._rafId&&(cancelAnimationFrame(this._rafId),this._rafId=null)}on(t,e){const i=this._emitter.on(t,e);return this.requestTick(),i}once(t,e){const i=this._emitter.once(t,e);return this.requestTick(),i}off(t,e){return this._emitter.off(t,e)}},Object.defineProperty(t,"__esModule",{value:!0})}));